sudo: required

language: go
go:
  - tip

services:
  - docker

before_install:
  - docker pull cassandra:latest
  - docker run --name address-cassandra -d cassandra:latest
  - docker ps
  - docker inspect address-cassandra
  - CASSANDRA_IP_ADDRESS=$(docker inspect -f '{{ .NetworkSettings.IPAddress }}' address-cassandra)
  - echo $CASSANDRA_IP_ADDRESS
  - export CASSANDRA_IP_ADDRESS

scrip: go test -v -tags=integration ./...

